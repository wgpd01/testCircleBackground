"use strict";"object"!=typeof window.CP&&(window.CP={}),window.CP.PenTimer={programNoLongerBeingMonitored:!1,timeOfFirstCallToShouldStopLoop:0,_loopExits:{},_loopTimers:{},START_MONITORING_AFTER:2e3,STOP_ALL_MONITORING_TIMEOUT:5e3,MAX_TIME_IN_LOOP_WO_EXIT:2200,exitedLoop:function(t){this._loopExits[t]=!0},shouldStopLoop:function(t){if(this.programKilledSoStopMonitoring)return!0;if(this.programNoLongerBeingMonitored)return!1;if(this._loopExits[t])return!1;var e=this._getTime();if(0===this.timeOfFirstCallToShouldStopLoop)return this.timeOfFirstCallToShouldStopLoop=e,!1;var n=e-this.timeOfFirstCallToShouldStopLoop;if(n<this.START_MONITORING_AFTER)return!1;if(n>this.STOP_ALL_MONITORING_TIMEOUT)return this.programNoLongerBeingMonitored=!0,!1;try{this._checkOnInfiniteLoop(t,e)}catch(o){return this._sendErrorMessageToEditor(),this.programKilledSoStopMonitoring=!0,!0}return!1},_sendErrorMessageToEditor:function(){try{if(this._shouldPostMessage()){var t={action:"infinite-loop",line:this._findAroundLineNumber()};parent.postMessage(JSON.stringify(t),"*")}else this._throwAnErrorToStopPen()}catch(e){this._throwAnErrorToStopPen()}},_shouldPostMessage:function(){return document.location.href.match(/boomerang/)},_throwAnErrorToStopPen:function(){throw"We found an infinite loop in your Pen. We've stopped the Pen from running. Please correct it or contact support@codepen.io."},_findAroundLineNumber:function(){var t=new Error,e=0;if(t.stack){var n=t.stack.match(/boomerang\S+:(\d+):\d+/);n&&(e=n[1])}return e},_checkOnInfiniteLoop:function(t,e){if(!this._loopTimers[t])return this._loopTimers[t]=e,!1;var n=e-this._loopTimers[t];if(n>this.MAX_TIME_IN_LOOP_WO_EXIT)throw"Infinite Loop found on loop: "+t},_getTime:function(){return+new Date}},window.CP.shouldStopExecution=function(t){return window.CP.PenTimer.shouldStopLoop(t)},window.CP.exitedLoop=function(t){window.CP.PenTimer.exitedLoop(t)},!function(t,e){"object"==typeof exports?module.exports=e(t,t.document):"function"==typeof define&&define.amd?define(function(){return e(t,t.document)}):t.Sketch=e(t,t.document)}("undefined"!=typeof window?window:this,function(t,e){function n(t){return"[object Array]"==Object.prototype.toString.call(t)}function o(t){return"function"==typeof t}function i(t){return"number"==typeof t}function r(t){return"string"==typeof t}function s(t){return v[t]||String.fromCharCode(t)}function a(t,e,n){for(var o in e)!n&&o in t||(t[o]=e[o]);return t}function c(t,e){return function(){t.apply(e,arguments)}}function u(t){var e={};for(var n in t)e[n]=o(t[n])?c(t[n],t):t[n];return e}function h(t){function e(e){o(e)&&e.apply(t,[].splice.call(arguments,1))}function n(t){for(M=0;M<tt.length;M++)W=tt[M],r(W)?L[(t?"add":"remove")+"EventListener"].call(L,W,E,!1):o(W)?E=W:L=W}function i(){I(S),S=A(i),Y||(e(t.setup),Y=o(t.setup)),Q||(e(t.resize),Q=o(t.resize)),t.running&&!U&&(t.dt=(j=+new Date)-t.now,t.millis+=t.dt,t.now=j,e(t.update),Z&&(t.retina&&(t.save(),t.scale(J,J)),t.autoclear&&t.clear()),e(t.draw),Z&&t.retina&&t.restore()),U=++U%t.interval}function c(){L=V?t.style:t.canvas,R=V?"px":"",X=t.width,q=t.height,t.fullscreen&&(q=t.height=x.innerHeight,X=t.width=x.innerWidth),t.retina&&Z&&J&&(L.style.height=q+"px",L.style.width=X+"px",X*=J,q*=J),L.height!==q&&(L.height=q+R),L.width!==X&&(L.width=X+R),Y&&e(t.resize)}function h(t,e){return N=e.getBoundingClientRect(),t.x=t.pageX-N.left-(x.scrollX||x.pageXOffset),t.y=t.pageY-N.top-(x.scrollY||x.pageYOffset),t}function l(e,n){return h(e,t.element),n=n||{},n.ox=n.x||e.x,n.oy=n.y||e.y,n.x=e.x,n.y=e.y,n.dx=n.x-n.ox,n.dy=n.y-n.oy,n}function p(t){if(t.preventDefault(),F=u(t),F.originalEvent=t,F.touches)for(K.length=F.touches.length,M=0;M<F.touches.length;M++)K[M]=l(F.touches[M],K[M]);else K.length=0,K[0]=l(F,$);return a($,K[0],!0),F}function d(n){for(n=p(n),B=(D=tt.indexOf(G=n.type))-1,t.dragging=/down|start/.test(G)?!0:/up|end/.test(G)?!1:t.dragging;B;)r(tt[B])?e(t[tt[B--]],n):r(tt[D])?e(t[tt[D++]],n):B=0}function f(n){H=n.keyCode,z="keyup"==n.type,et[H]=et[s(H)]=!z,e(t[n.type],n)}function g(n){t.autopause&&("blur"==n.type?T:w)(),e(t[n.type],n)}function w(){t.now=+new Date,t.running=!0}function T(){t.running=!1}function _(){(t.running?T:w)()}function P(){Z&&t.clearRect(0,0,t.width,t.height)}function b(){C=t.element.parentNode,M=O.indexOf(t),C&&C.removeChild(t.element),~M&&O.splice(M,1),n(!1),T()}var S,E,L,C,N,M,R,j,W,F,G,H,z,B,D,X,q,U=0,K=[],Q=!1,Y=!1,J=x.devicePixelRatio||1,V=t.type==k,Z=t.type==m,$={x:0,y:0,ox:0,oy:0,dx:0,dy:0},tt=[t.element,d,"mousedown","touchstart",d,"mousemove","touchmove",d,"mouseup","touchend",d,"click",d,"mouseout",d,"mouseover",y,f,"keydown","keyup",x,g,"focus","blur",c,"resize"],et={};for(H in v)et[v[H]]=!1;return a(t,{touches:K,mouse:$,keys:et,dragging:!1,running:!1,millis:0,now:NaN,dt:NaN,destroy:b,toggle:_,clear:P,start:w,stop:T}),O.push(t),t.autostart&&w(),n(!0),c(),i(),t}for(var l,p,d="E LN10 LN2 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos asin atan ceil cos exp floor log round sin sqrt tan atan2 pow max min".split(" "),f="__hasSketch",g=Math,m="canvas",w="webgl",k="dom",y=e,x=t,O=[],T={fullscreen:!0,autostart:!0,autoclear:!0,autopause:!0,container:y.body,interval:1,globals:!0,retina:!1,type:m},v={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"},_={CANVAS:m,WEB_GL:w,WEBGL:w,DOM:k,instances:O,install:function(t){if(!t[f]){for(var e=0;e<d.length;e++)t[d[e]]=g[d[e]];a(t,{TWO_PI:2*g.PI,HALF_PI:g.PI/2,QUATER_PI:g.PI/4,random:function(t,e){return n(t)?t[~~(g.random()*t.length)]:(i(e)||(e=t||1,t=0),t+g.random()*(e-t))},lerp:function(t,e,n){return t+n*(e-t)},map:function(t,e,n,o,i){return(t-e)/(n-e)*(i-o)+o}}),t[f]=!0}},create:function(t){return t=a(t||{},T),t.globals&&_.install(self),l=t.element=t.element||y.createElement(t.type===k?"div":"canvas"),p=t.context=t.context||function(){switch(t.type){case m:return l.getContext("2d",t);case w:return l.getContext("webgl",t)||l.getContext("experimental-webgl",t);case k:return l.canvas=l}}(),(t.container||y.body).appendChild(l),_.augment(p,t)},augment:function(t,e){return e=a(e||{},T),e.element=t.canvas||t,e.element.className+=" sketch",a(t,e,!0),h(t)}},P=["ms","moz","webkit","o"],b=self,S=0,E="AnimationFrame",L="request"+E,C="cancel"+E,A=b[L],I=b[C],N=0;N<P.length&&!A;N++)A=b[P[N]+"Request"+E],I=b[P[N]+"Cancel"+E];return b[L]=A=A||function(t){var e=+new Date,n=g.max(0,16-(e-S)),o=setTimeout(function(){t(e+n)},n);return S=e+n,o},b[C]=I=I||function(t){clearTimeout(t)},_});var sketch=Sketch.create(),center={x:sketch.width/2,y:sketch.height/2},orbs=[],dt=1,opt={total:100,count:100,spacing:2,speed:16,scale:2.1,jitterRadius:0,jitterHue:0,clearAlpha:2.3,toggleOrbitals:!0,orbitalAlpha:50,toggleLight:!0,lightAlpha:1,clear:function(){sketch.clearRect(0,0,sketch.width,sketch.height),orbs.length=0}},Orb=function(t,e){var n=t/opt.scale-center.x/opt.scale,o=e/opt.scale-center.y/opt.scale;this.angle=atan2(o,n),this.lastAngle=this.angle,this.radius=sqrt(n*n+o*o),this.size=this.radius/300+1,this.speed=random(1,10)/3e5*this.radius+.015};Orb.prototype.update=function(){this.lastAngle=this.angle,this.angle+=this.speed*(opt.speed/50)*dt,this.x=this.radius*cos(this.angle),this.y=this.radius*sin(this.angle)},Orb.prototype.render=function(){if(opt.toggleOrbitals){var t=0===opt.jitterRadius?this.radius:this.radius+random(-opt.jitterRadius,opt.jitterRadius);t=0!=opt.jitterRadius&&0>t?.001:t,sketch.strokeStyle="hsla( "+((this.angle+90)/(PI/180)+random(-opt.jitterHue,opt.jitterHue))+", 100%, 50%, "+opt.orbitalAlpha/100+" )",sketch.lineWidth=this.size,sketch.beginPath(),opt.speed>=0?sketch.arc(0,0,t,this.lastAngle,this.angle+.001,!1):sketch.arc(0,0,t,this.angle,this.lastAngle+.001,!1),sketch.stroke(),sketch.closePath()}opt.toggleLight&&(sketch.lineWidth=.5,sketch.strokeStyle="hsla( "+((this.angle+90)/(PI/180)+random(-opt.jitterHue,opt.jitterHue))+", 100%, 70%, "+opt.lightAlpha/100+" )",sketch.beginPath(),sketch.moveTo(0,0),sketch.lineTo(this.x,this.y),sketch.stroke())};var createOrb=function(t){var e=t&&t.x?t.x:sketch.mouse.x,n=t&&t.y?t.y:sketch.mouse.y;orbs.push(new Orb(e,n))},turnOnMove=function(){sketch.mousemove=createOrb},turnOffMove=function(){sketch.mousemove=null};sketch.mousedown=function(){createOrb(),turnOnMove()},sketch.mouseup=turnOffMove,sketch.resize=function(){center.x=sketch.width/2,center.y=sketch.height/2,sketch.lineCap="round"},sketch.setup=function(){for(;opt.count--&&!window.CP.shouldStopExecution(1);)createOrb({x:random(sketch.width/2-620,sketch.width/2+620),y:random(sketch.height/2-620,sketch.height/2+620)});window.CP.exitedLoop(1)},sketch.clear=function(){sketch.globalCompositeOperation="destination-out",sketch.fillStyle="rgba( 0, 0, 0 , "+opt.clearAlpha/100+" )",sketch.fillRect(0,0,sketch.width,sketch.height),sketch.globalCompositeOperation="lighter"},sketch.update=function(){dt=sketch.dt<.1?.1:sketch.dt/16,dt=dt>5?5:dt;var t=orbs.length;for(opt.total=t;t--&&!window.CP.shouldStopExecution(2);)orbs[t].update();window.CP.exitedLoop(2)},sketch.draw=function(){sketch.save(),sketch.translate(center.x,center.y),sketch.scale(opt.scale,opt.scale);for(var t=orbs.length;t--&&!window.CP.shouldStopExecution(3);)orbs[t].render();window.CP.exitedLoop(3),sketch.restore()},document.onselectstart=function(){return!1};